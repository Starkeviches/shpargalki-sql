Вывести информацию о книгах (название книги, фамилию и инициалы автора, название жанра, 
цену и количество экземпляров книги), написанных в самых популярных жанрах, 
в отсортированном в алфавитном порядке по названию книг виде. 
Самым популярным считать жанр, общее количество экземпляров книг которого на складе максимально.


select title, name_author, name_genre, price, amount from 
book
inner join author on book.author_id=author.author_id
inner join genre on book.genre_id=genre.genre_id
where book.genre_id in
   (select vse_g.genre_id from
     (select genre_id, sum(amount) as sum_amount from book
      group by genre_id) vse_g
   inner join
   (select genre_id, sum(amount) as sum_amount from book
    group by genre_id order by sum_amount desc limit 1) top_g
   on vse_g.sum_amount=top_g.sum_amount)
order by title;